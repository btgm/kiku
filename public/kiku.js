!function(){function e(){4==this.readyState&&200==this.status&&(n.open("GET","/board"),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(),n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);for(var t in e)document.getElementById(t).innerHTML=e[t]}})}for(var t=document.querySelectorAll("input"),a=document.forms[0],n=new XMLHttpRequest,r=0;r<t.length;r++){var o=t[r];o.addEventListener("dragover",function(e){this.checked=!0,e.preventDefault()}),o.addEventListener("drop",function(e){e.preventDefault();var t=e.dataTransfer.getData("card"),n=document.getElementsByClassName(t)[0];a.dataset.button=n.value,n.click()})}document.addEventListener("dragstart",function(e){"BUTTON"===e.target.nodeName&&e.dataTransfer.setData("card",e.target.className)}),document.addEventListener("click",function(e){if("BUTTON"===e.target.nodeName||"BUTTON"===e.target.parentNode.nodeName){var t="BUTTON"===e.target.nodeName?e.target:e.target.parentNode;console.log(t),a.dataset.button=t.value}if("undefined"!=typeof e.target.dataset.show){var n=document.getElementById(e.target.dataset.show).outerHTML,r=document.getElementById("overlay");"shown"==r.className?(r.className="",r.innerHTML=""):(r.innerHTML=n,r.className="shown"),e.preventDefault()}"overlay"===e.target.id&&(e.target.className="")}),a.addEventListener("submit",function(t){var r=document.querySelector("input:checked").value;n.onreadystatechange=e,n.open("POST","/gameplay"),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("action="+r+"&card="+a.dataset.button),console.log(a.dataset.button),console.log(r),t.preventDefault()})}();